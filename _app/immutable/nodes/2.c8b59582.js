import{S as Z,i as x,s as $,e as q,b as T,D as se,h as u,J as ye,k as w,q as N,a as z,l as A,m as I,r as C,c as S,n as g,C as _,K as F,u as H,L as Ee,M as we,N as re,g as j,v as Q,d as L,f as R,E as Ae,o as he,y as pe,z as me,A as ve,B as be,O as Ie,P as ge,Q as ke}from"../chunks/index.3d3a539b.js";import{b as X,c as De,r as Te}from"../chunks/cartStore.fb6694f9.js";function ie(n,t,e){const l=n.slice();return l[7]=t[e],l}function oe(n){let t,e,l,i,o,c,s,r,a,f,m,d,D,O,P,V,k,p,E,B,M=n[0].addons,y=[];for(let v=0;v<M.length;v+=1)y[v]=ne(ie(n,M,v));return{c(){t=w("div"),e=w("div"),l=w("div"),i=w("h2"),o=N("Add-ons"),c=z(),s=w("ul");for(let v=0;v<y.length;v+=1)y[v].c();r=z(),a=w("div"),f=w("div"),m=N(`Total:
                    `),d=w("span"),D=N(n[2]),O=z(),P=w("div"),V=w("button"),k=N("Add To Cart"),this.h()},l(v){t=A(v,"DIV",{id:!0,class:!0});var b=I(t);e=A(b,"DIV",{class:!0,style:!0});var h=I(e);l=A(h,"DIV",{class:!0});var U=I(l);i=A(U,"H2",{class:!0});var Y=I(i);o=C(Y,"Add-ons"),Y.forEach(u),c=S(U),s=A(U,"UL",{});var J=I(s);for(let W=0;W<y.length;W+=1)y[W].l(J);J.forEach(u),U.forEach(u),r=S(h),a=A(h,"DIV",{class:!0});var K=I(a);f=A(K,"DIV",{class:!0});var G=I(f);m=C(G,`Total:
                    `),d=A(G,"SPAN",{class:!0});var ee=I(d);D=C(ee,n[2]),ee.forEach(u),G.forEach(u),K.forEach(u),O=S(h),P=A(h,"DIV",{class:!0});var te=I(P);V=A(te,"BUTTON",{class:!0});var le=I(V);k=C(le,"Add To Cart"),le.forEach(u),te.forEach(u),h.forEach(u),b.forEach(u),this.h()},h(){g(i,"class","text-2xl font-bold mb-4"),g(l,"class","p-4"),g(d,"class","font-bold text-xl"),g(f,"class","flex flex-row items-center"),g(a,"class","flex flex-row justify-around"),g(V,"class","mt-2 w-3/4 text-center text-xl bg-green-700 text-white font-bold font-sans border-2 border-black hover:bg-green-800"),g(P,"class","flex flex-row justify-center"),g(e,"class","bg-white h-full w-full transform transition-all duration-300 ease-in-out"),g(e,"style",p="translateY($"+(n[1]?"0":"100%")+")"),g(t,"id","add_on_modal"),g(t,"class","fixed max-w-sm h-3/4 right-0 left-0 w-full bottom-0 flex mx-auto z-50 svelte-ey9zop")},m(v,b){T(v,t,b),_(t,e),_(e,l),_(l,i),_(i,o),_(l,c),_(l,s);for(let h=0;h<y.length;h+=1)y[h]&&y[h].m(s,null);_(e,r),_(e,a),_(a,f),_(f,m),_(f,d),_(d,D),_(e,O),_(e,P),_(P,V),_(V,k),E||(B=F(V,"click",n[3]),E=!0)},p(v,b){if(b&17){M=v[0].addons;let h;for(h=0;h<M.length;h+=1){const U=ie(v,M,h);y[h]?y[h].p(U,b):(y[h]=ne(U),y[h].c(),y[h].m(s,null))}for(;h<y.length;h+=1)y[h].d(1);y.length=M.length}b&4&&H(D,v[2]),b&2&&p!==(p="translateY($"+(v[1]?"0":"100%")+")")&&g(e,"style",p)},d(v){v&&u(t),Ee(y,v),E=!1,B()}}}function ne(n){let t,e,l,i,o,c=n[7].name+"",s,r,a,f,m=n[7].price+"",d,D,O,P,V;return{c(){t=w("li"),e=w("input"),i=z(),o=w("span"),s=N(c),r=z(),a=w("span"),f=N("("),d=N(m),D=N(")"),O=z(),this.h()},l(k){t=A(k,"LI",{});var p=I(t);e=A(p,"INPUT",{name:!0,type:!0}),i=S(p),o=A(p,"SPAN",{class:!0});var E=I(o);s=C(E,c),E.forEach(u),r=S(p),a=A(p,"SPAN",{class:!0});var B=I(a);f=C(B,"("),d=C(B,m),D=C(B,")"),B.forEach(u),O=S(p),p.forEach(u),this.h()},h(){g(e,"name",l=n[7].id),g(e,"type","checkbox"),g(o,"class","ml-2 font-bold"),g(a,"class","font-semibold text-xs")},m(k,p){T(k,t,p),_(t,e),_(t,i),_(t,o),_(o,s),_(t,r),_(t,a),_(a,f),_(a,d),_(a,D),_(t,O),P||(V=F(e,"change",function(){we(n[4](n[7]))&&n[4](n[7]).apply(this,arguments)}),P=!0)},p(k,p){n=k,p&1&&l!==(l=n[7].id)&&g(e,"name",l),p&1&&c!==(c=n[7].name+"")&&H(s,c),p&1&&m!==(m=n[7].price+"")&&H(d,m)},d(k){k&&u(t),P=!1,V()}}}function Ve(n){let t,e=n[1]&&oe(n);return{c(){e&&e.c(),t=q()},l(l){e&&e.l(l),t=q()},m(l,i){e&&e.m(l,i),T(l,t,i)},p(l,[i]){l[1]?e?e.p(l,i):(e=oe(l),e.c(),e.m(t.parentNode,t)):e&&(e.d(1),e=null)},i:se,o:se,d(l){e&&e.d(l),l&&u(t)}}}let Oe=1;function Pe(n,t,e){let{product:l}=t,{isOpen:i}=t,o=[],c=l.price;const s=ye();function r(){e(0,l.selected_addons=o,l);for(let f of o)e(0,l.price+=f.price,l);for(let f=0;f<Oe;f++)X(l);s("closeModal",!1),e(1,i=!1)}function a(f){o.includes(f)?(e(2,c-=f.price),o=o.filter(m=>m!=f)):(e(2,c+=f.price),o.push(f))}return n.$$set=f=>{"product"in f&&e(0,l=f.product),"isOpen"in f&&e(1,i=f.isOpen)},[l,i,c,r,a]}class Ne extends Z{constructor(t){super(),x(this,t,Pe,Ve,$,{product:0,isOpen:1})}}function Ce(n){let t,e,l,i,o,c,s,r,a,f;return{c(){t=w("button"),e=N("-"),l=z(),i=w("span"),o=N(n[1]),c=z(),s=w("button"),r=N("+"),this.h()},l(m){t=A(m,"BUTTON",{class:!0});var d=I(t);e=C(d,"-"),d.forEach(u),l=S(m),i=A(m,"SPAN",{class:!0});var D=I(i);o=C(D,n[1]),D.forEach(u),c=S(m),s=A(m,"BUTTON",{class:!0});var O=I(s);r=C(O,"+"),O.forEach(u),this.h()},h(){g(t,"class","bg-black text-white px-3 py-1 rounded svelte-lli66z"),g(i,"class","text-black svelte-lli66z"),g(s,"class","bg-black text-white px-3 py-1 rounded svelte-lli66z")},m(m,d){T(m,t,d),_(t,e),T(m,l,d),T(m,i,d),_(i,o),T(m,c,d),T(m,s,d),_(s,r),a||(f=[F(t,"click",n[7]),F(s,"click",n[6])],a=!0)},p(m,d){d&2&&H(o,m[1])},d(m){m&&u(t),m&&u(l),m&&u(i),m&&u(c),m&&u(s),a=!1,Ie(f)}}}function Me(n){let t,e,l;function i(s,r){return s[0].modifiers==!0?Se:ze}let o=i(n),c=o(n);return{c(){t=w("button"),c.c(),this.h()},l(s){t=A(s,"BUTTON",{class:!0});var r=I(t);c.l(r),r.forEach(u),this.h()},h(){g(t,"class","bg-black text-white px-3 py-1 rounded svelte-lli66z")},m(s,r){T(s,t,r),c.m(t,null),e||(l=F(t,"click",n[5]),e=!0)},p(s,r){o!==(o=i(s))&&(c.d(1),c=o(s),c&&(c.c(),c.m(t,null)))},d(s){s&&u(t),c.d(),e=!1,l()}}}function ze(n){let t;return{c(){t=N("Add")},l(e){t=C(e,"Add")},m(e,l){T(e,t,l)},d(e){e&&u(t)}}}function Se(n){let t;return{c(){t=N("Add +")},l(e){t=C(e,"Add +")},m(e,l){T(e,t,l)},d(e){e&&u(t)}}}function ae(n){let t,e,l,i,o;return e=new Ne({props:{isOpen:n[2],product:n[0]}}),e.$on("closeModal",n[4]),{c(){t=w("div"),pe(e.$$.fragment),this.h()},l(c){t=A(c,"DIV",{class:!0});var s=I(t);me(e.$$.fragment,s),s.forEach(u),this.h()},h(){g(t,"class","fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-center items-center")},m(c,s){T(c,t,s),ve(e,t,null),l=!0,i||(o=F(t,"click",n[3]),i=!0)},p(c,s){const r={};s&4&&(r.isOpen=c[2]),s&1&&(r.product=c[0]),e.$set(r)},i(c){l||(j(e.$$.fragment,c),l=!0)},o(c){L(e.$$.fragment,c),l=!1},d(c){c&&u(t),be(e),i=!1,o()}}}function Be(n){let t,e,l,i,o,c,s,r,a=n[0].name+"",f,m,d,D=n[0].price+"",O,P,V,k,p,E;function B(b,h){if(b[1]==0||b[0].modifiers==!0)return Me;if(b[1]>0)return Ce}let M=B(n),y=M&&M(n),v=n[2]&&ae(n);return{c(){t=w("div"),e=w("div"),l=w("img"),c=z(),s=w("div"),r=w("h3"),f=N(a),m=z(),d=w("p"),O=N(D),P=z(),V=w("div"),y&&y.c(),k=z(),v&&v.c(),p=q(),this.h()},l(b){t=A(b,"DIV",{class:!0});var h=I(t);e=A(h,"DIV",{class:!0});var U=I(e);l=A(U,"IMG",{class:!0,src:!0,alt:!0}),U.forEach(u),c=S(h),s=A(h,"DIV",{class:!0});var Y=I(s);r=A(Y,"H3",{class:!0});var J=I(r);f=C(J,a),J.forEach(u),m=S(Y),d=A(Y,"P",{class:!0});var K=I(d);O=C(K,D),K.forEach(u),Y.forEach(u),P=S(h),V=A(h,"DIV",{class:!0});var G=I(V);y&&y.l(G),G.forEach(u),h.forEach(u),k=S(b),v&&v.l(b),p=q(),this.h()},h(){g(l,"class","h-12 w-12 object-cover rounded"),re(l.src,i=n[0].image)||g(l,"src",i),g(l,"alt",o=n[0].title),g(e,"class","flex-shrink-0"),g(r,"class","text-xl font-bold"),g(d,"class","text-gray-600"),g(s,"class","flex-grow"),g(V,"class","flex items-center space-x-2"),g(t,"class","flex items-center space-x-4")},m(b,h){T(b,t,h),_(t,e),_(e,l),_(t,c),_(t,s),_(s,r),_(r,f),_(s,m),_(s,d),_(d,O),_(t,P),_(t,V),y&&y.m(V,null),T(b,k,h),v&&v.m(b,h),T(b,p,h),E=!0},p(b,[h]){(!E||h&1&&!re(l.src,i=b[0].image))&&g(l,"src",i),(!E||h&1&&o!==(o=b[0].title))&&g(l,"alt",o),(!E||h&1)&&a!==(a=b[0].name+"")&&H(f,a),(!E||h&1)&&D!==(D=b[0].price+"")&&H(O,D),M===(M=B(b))&&y?y.p(b,h):(y&&y.d(1),y=M&&M(b),y&&(y.c(),y.m(V,null))),b[2]?v?(v.p(b,h),h&4&&j(v,1)):(v=ae(b),v.c(),j(v,1),v.m(p.parentNode,p)):v&&(Q(),L(v,1,1,()=>{v=null}),R())},i(b){E||(j(v),E=!0)},o(b){L(v),E=!1},d(b){b&&u(t),y&&y.d(),b&&u(k),v&&v.d(b),b&&u(p)}}}function Ue(n,t,e){let l;Ae(n,De,d=>e(8,l=d));let{product:i}=t,o=0,c=!1;he(()=>{l.forEach(d=>{d.id==i.id&&e(1,o=d.count)})});function s(d){d.target===d.currentTarget&&e(2,c=!1)}function r(){e(2,c=!1)}function a(){i.modifiers==!0?e(2,c=!0):(e(1,o=1),X(i))}function f(){e(1,o+=1),X(i)}function m(){o>0&&(e(1,o-=1),Te(i))}return n.$$set=d=>{"product"in d&&e(0,i=d.product)},[i,o,c,s,r,a,f,m]}class je extends Z{constructor(t){super(),x(this,t,Ue,Be,$,{product:0})}}function ce(n,t,e){const l=n.slice();return l[4]=t[e],l}function fe(n,t,e){const l=n.slice();return l[7]=t[e],l}function ue(n){let t,e=[],l=new Map,i,o,c=n[4].items;const s=r=>r[7].id;for(let r=0;r<c.length;r+=1){let a=fe(n,c,r),f=s(a);l.set(f,e[r]=de(f,a))}return{c(){t=w("div");for(let r=0;r<e.length;r+=1)e[r].c();i=z(),this.h()},l(r){t=A(r,"DIV",{class:!0});var a=I(t);for(let f=0;f<e.length;f+=1)e[f].l(a);i=S(a),a.forEach(u),this.h()},h(){g(t,"class","products svelte-1ycv4e5")},m(r,a){T(r,t,a);for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(t,null);_(t,i),o=!0},p(r,a){a&1&&(c=r[4].items,Q(),e=ge(e,a,s,1,r,c,l,t,ke,de,i,fe),R())},i(r){if(!o){for(let a=0;a<c.length;a+=1)j(e[a]);o=!0}},o(r){for(let a=0;a<e.length;a+=1)L(e[a]);o=!1},d(r){r&&u(t);for(let a=0;a<e.length;a+=1)e[a].d()}}}function de(n,t){let e,l,i;return l=new je({props:{product:t[7]}}),{key:n,first:null,c(){e=q(),pe(l.$$.fragment),this.h()},l(o){e=q(),me(l.$$.fragment,o),this.h()},h(){this.first=e},m(o,c){T(o,e,c),ve(l,o,c),i=!0},p(o,c){t=o;const s={};c&1&&(s.product=t[7]),l.$set(s)},i(o){i||(j(l.$$.fragment,o),i=!0)},o(o){L(l.$$.fragment,o),i=!1},d(o){o&&u(e),be(l,o)}}}function _e(n,t){let e,l,i=t[4].category+"",o,c,s,r=t[1].includes(t[4].category)?"expand_less":"expand_more",a,f,m=t[1].includes(t[4].category),d,D,O,P;function V(){return t[3](t[4])}let k=m&&ue(t);return{key:n,first:null,c(){e=w("div"),l=w("h2"),o=N(i),c=z(),s=w("span"),a=N(r),f=z(),k&&k.c(),d=q(),this.h()},l(p){e=A(p,"DIV",{class:!0});var E=I(e);l=A(E,"H2",{class:!0});var B=I(l);o=C(B,i),B.forEach(u),c=S(E),s=A(E,"SPAN",{class:!0});var M=I(s);a=C(M,r),M.forEach(u),E.forEach(u),f=S(p),k&&k.l(p),d=q(),this.h()},h(){g(l,"class","text-2xl"),g(s,"class","material-icons"),g(e,"class","category svelte-1ycv4e5"),this.first=e},m(p,E){T(p,e,E),_(e,l),_(l,o),_(e,c),_(e,s),_(s,a),T(p,f,E),k&&k.m(p,E),T(p,d,E),D=!0,O||(P=F(e,"click",V),O=!0)},p(p,E){t=p,(!D||E&1)&&i!==(i=t[4].category+"")&&H(o,i),(!D||E&3)&&r!==(r=t[1].includes(t[4].category)?"expand_less":"expand_more")&&H(a,r),E&3&&(m=t[1].includes(t[4].category)),m?k?(k.p(t,E),E&3&&j(k,1)):(k=ue(t),k.c(),j(k,1),k.m(d.parentNode,d)):k&&(Q(),L(k,1,1,()=>{k=null}),R())},i(p){D||(j(k),D=!0)},o(p){L(k),D=!1},d(p){p&&u(e),p&&u(f),k&&k.d(p),p&&u(d),O=!1,P()}}}function qe(n){let t,e=[],l=new Map,i,o=n[0];const c=s=>s[4].category;for(let s=0;s<o.length;s+=1){let r=ce(n,o,s),a=c(r);l.set(a,e[s]=_e(a,r))}return{c(){t=w("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){t=A(s,"DIV",{id:!0});var r=I(t);for(let a=0;a<e.length;a+=1)e[a].l(r);r.forEach(u),this.h()},h(){g(t,"id","menu")},m(s,r){T(s,t,r);for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(t,null);i=!0},p(s,[r]){r&7&&(o=s[0],Q(),e=ge(e,r,c,1,s,o,l,t,ke,_e,null,ce),R())},i(s){if(!i){for(let r=0;r<o.length;r+=1)j(e[r]);i=!0}},o(s){for(let r=0;r<e.length;r+=1)L(e[r]);i=!1},d(s){s&&u(t);for(let r=0;r<e.length;r+=1)e[r].d()}}}function He(n,t,e){let l=[];he(async()=>{e(0,l=[{category:"Pizza",items:[{id:1,name:"Pepperoni",price:120,image:"https://placehold.co/600x400",modifiers:!1},{id:2,name:"Vegetarian",price:105,image:"https://placehold.co/600x400",modifiers:!1}]},{category:"Burger",items:[{id:3,name:"Cheeseburger",price:100,image:"https://placehold.co/600x400",modifiers:!0,addons:[{id:1,name:"Mayoniesse",price:5},{id:2,name:"T-Stuff",price:10}]},{id:4,name:"Veggie Burger",price:80,image:"https://placehold.co/600x400",modifiers:!0,addons:[{id:3,name:"Caramel",price:5},{id:4,name:"Chocolate",price:10}]}]}])});let i=[];function o(s){i.includes(s)?e(1,i=i.filter(r=>r!==s)):e(1,i=[...i,s])}return[l,i,o,s=>o(s.category)]}class Fe extends Z{constructor(t){super(),x(this,t,He,qe,$,{})}}export{Fe as component};
